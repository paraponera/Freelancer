<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
               xmlns:p="http://primefaces.org/ui"
               >
   <h:head></h:head>
		 
		
   		
 <p:panel>
 
 <h:form id="chartform">
<p:chart widgetVar="chart" type="pie" model="#{chartView.pieModel1}" style="width:400px;height:300px"/>
<p:chart type="pie" model="#{chartView.pieModel2}" style="width:400px;height:300px" />

	 
 	<p:commandButton type="button" value="Export" icon="ui-icon-extlink" onclick="exportChart()"/>
 
						<p:dialog appendToBody="true"  widgetVar="dlg" showEffect="fade" modal="true" header="Chart as an Image" resizable="false">
    							<p:outputPanel id="output" layout="block" style="width:500px;height:300px"/>
						</p:dialog>
 						
 						<script type="text/javascript">
							function exportChart() {
    						//export image
    						$(PrimeFaces.escapeClientId('chartform:output')).empty().append(PF('chart').exportAsImage());
 
   							 //show the dialog
    						PF('dlg').show();
							}
						</script>
			
	</h:form>		
	</p:panel>		
			
</ui:composition>